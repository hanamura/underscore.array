(function(){var e,t,n,r,i,s,o,u,a,f,l=[].slice,c=this;f={},f.take=a=function(e,t,n){var r,i,s,o;n==null&&(n=void 0),o=[];for(i=0,s=e.length;i<s;i++){r=e[i];try{t in r?o.push(r[t]):o.push(n)}catch(u){try{r[t]!==void 0?o.push(r[t]):o.push(n)}catch(u){o.push(n)}}}return o},f.dig=e=function(e,t,n){var r,i,s,o,u,a;n==null&&(n=void 0),a=[];for(o=0,u=e.length;o<u;o++){s=e[o],i=t.slice();while(i.length){r=i.shift();try{if(!(r in s)){s=n;break}s=s[r]}catch(f){try{if(s[r]===void 0){s=n;break}s=s[r]}catch(f){s=n;break}}}a.push(s)}return a},f.rotate=i=function(e,t){e=e.slice();while(t<0)t+=e.length;return t%=e.length,t&&e.splice.apply(e,[0,0].concat(l.call(e.splice(e.length-t,t)))),e},f.equal=t=function(e,t,n){var r,i,s;n==null&&(n=void 0);if(e.length===t.length){for(r=i=0,s=e.length;0<=s?i<s:i>s;r=0<=s?++i:--i){if(n&&!n(e[r],t[r]))return!1;if(!n&&e[r]!==t[r])return!1}return!0}return!1},f.same=s=function(e,t,n){var r,i,s,o,u,a,f,l;n==null&&(n=void 0);if(e.length===t.length){t=t.slice();for(u=0,f=e.length;u<f;u++){s=e[u];if(n){i=-1;for(r=a=0,l=t.length;0<=l?a<l:a>l;r=0<=l?++a:--a){o=t[r];if(n(s,o)){i=r;break}}}else i=t.indexOf(s);if(!(i>=0))return!1;t.splice(i,1)}return!0}return!1},f.sample=o=function(e){return e[Math.floor(e.length*Math.random())]},f.samples=u=function(e,t,n){var r,i,s,o;n==null&&(n=!0);if(e.length){r=e.slice(0),o=[];for(i=s=0;0<=t?s<t:s>t;i=0<=t?++s:--s){if(!r.length){if(!n)break;r=e.slice(0)}o.push(r.splice(Math.floor(r.length*Math.random()),1)[0])}return o}return[]},f.exports=function(){var e,t,n;t={};for(e in f)n=f[e],t[e]=n;return t},(typeof module!=="undefined"&&module!==null?module.exports:void 0)!=null?module.exports=f:(this._||(this._={}),r=this._.array,n=this._.arr,this._.array=this._.arr=f,f.noConflict=function(){return c._.array=r,c._.arr=n,f})}).call(this);